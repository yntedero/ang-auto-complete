<div class="autocomplete" [class.disabled]="loading">
  <input type="text" [formControl]="searchBarControl" [disabled]="loading" (focus)="dropdownOpenChange.emit(true)" (blur)="dropdownOpenChange.emit(false)">
  <ul>
    <li *ngFor="let option of options" (click)="selectOption(option)">
      <ng-container *ngTemplateOutlet="customOptionTemplate || defaultOption; context: {$implicit: option}"></ng-container>
    </li>
  </ul>

  <ng-container *ngIf="loading" [ngTemplateOutlet]="loadingTemplate"></ng-container>'

  <ng-container *ngIf="filteredOptions.length === 0 && !loading" [ngTemplateOutlet]="emptyPlaceholder"></ng-container>

  <ng-template #defaultOption let-option>{{ option.content }}</ng-template>

  <ng-template #loadingTemplate>Loading...</ng-template>

  <ng-template #emptyPlaceholder>No options available.</ng-template>
</div>
